<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>New Property - Realtors Circle</title>

    <!--asset-->
    <link rel="shortcut icon" type="text/css" href="asset/img/favicon.png">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="vendor/bootstrap/bootstrap.min.css">
    <link rel="stylesheet" href="https://preview.colorlib.com/theme/bootstrap/css-table-19/css/style.css">

    <!-- Fontawesome CSS -->
    <link rel="stylesheet" href="vendor/fontawesome/all.min.css">

    <!-- Swiper CSS -->
    <link rel="stylesheet" href="vendor/swiper/swiper-bundle.min.css">
    <link rel="stylesheet" href="vendor/datatables/css/jquery.dataTables.min.css">

    <!-- Bootstrap daterangepicker -->
    <link rel="stylesheet" href="vendor/bootstrap-daterangepicker/daterangepicker.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/css/bootstrap-datepicker.min.css">
    <link rel="stylesheet" href="https://cdn.plyr.io/3.7.8/plyr.css" />
    <script src="https://cdn.plyr.io/3.7.8/plyr.js"></script>
    

    <!--Custom CSS-->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.0.0/dist/chart.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.0.0"></script>
    <link rel="stylesheet" href="asset/css/style.css">
    <link rel="stylesheet" href="asset/css/responsive.css">
</head>


<body>
    <div class="page-wrapper">
        <header>
          <div class="top">
              <div class="container">
                  <h3 class="logo">Success Haven</h3>
                  <div class="search-ctn d-none d-md-block">
                      <img src="asset/img/icons/search-icon.png" alt="">
                      <input type="text" placeholder="Search">
                  </div>
                  <div class="nomepro">
                    <div class="item">
                        <a href="notification.html"><img src="asset/img/icons/notification-icon.png" alt=""></a>
                    </div>
                    <div class="item">
                        <a href="schedule.html"><img src="asset/img/icons/calendar-icon-white.png" alt=""></a>
                    </div>
                    <div class="drop-now cursor-p d-flex align-items-center justify-content end gap-2">
                      <div class="item dpi">
                          <div class="profile-dropdown">
                              <div class="d-flex align-items-center justify-content-between gap-4">
                                  <div class="d-flex align-items-center align-items-start gap-3">
                                    <a href="insight.html">
                                      <div class="img">
                                          <img src="asset/img/user-img.png" class="img-flui" alt="">
                                      </div>
                                    </a>
                                  </div>
                              </div>
                              <ul class="profile-dropdown-items profile-items">
                                <li class="dropdown-item">
                                    <a href="profile.html">
                                      <i class="fa fa-user"></i> &nbsp;
                                    Profile</a>
                                </li>
                                <li class="dropdown-item">
                                  <a href="notification.html">
                                    <i class="fa fa-bell"></i> &nbsp;
                                  Notifications</a>
                              </li>
                              <li class="dropdown-item border-0">
                                <a href="broadcast-message.html">
                                  <i class="fa fa-bullhorn"></i> &nbsp;
                                Broadcast Message</a>
                              </li>
                              <li class="mt-4">
                                <a href="premium-feature.html" class="new-discussion-btn btn-success text-center fs-12 w-100 d-block">Subscribe to Pro Version</a>
                              </li>
                                <li class="dropdown-item">
                                    <a href="javascript:;">
                                    Logout</a></li>
                            </ul>
                          </div>
                      </div>
                      <div class="directions close">
                        <i class="fa fa-chevron-down"></i>
                        <i class="fa fa-chevron-up"></i>
                    </div>
                    </div>
                </div>
              </div>
          </div>
           <nav class="navbar navbar-expand-lg">
               <div class="container cosynav">
                 <a class="navbar-brand text-light" href="">
                   <small>Good morning</small> <br> 
                   <span>Hello John Doe</span>
                 </a>
       
                 <!-- Nav Item -->
                 <ul class="navbar-nav ma-auto  nav-sm">
                   <!-- Logo on small screen -->
                   <div class="sm-logo-ctn d-lg-none opacity-75">
                     <div class="menu-btn d-lg-none d-sm-block">
                       <!-- <div class="menu-btn-burger"></div> -->
                     <i class="fa fa-arrow-right"></i>
                     </div>
                     <!-- <img src="asset/img/logo.png" class="img-fluid mb-2" alt=""> -->
                   </div>
                   <!-- <span class="close d-lg-none d-sm-block">&times;</span> -->
                   <li class="nav-item">
                     <a class="nav-link" href="index.html">Dashboard </a>
                   </li>
                   <li class="nav-item">
                     <a class="nav-link active" href="properties.html">Properties</a>
                   </li>

                   <li class="nav-item">
                     <a class="nav-link" href="customers.html">Customers</a>
                   </li>

                   <li class="nav-item">
                     <a class="nav-link" href="settings.html">Settings</a>
                   </li>
                  
                 </ul>
                 <!-- Harmburger menu icon -->
                 <div class="menu-btn d-lg-none d-sm-block">
                   <div class="menu-btn-burger"></div>
                 </div>
               </div>
             </nav>
        </header>
        <main>
         <section>
          <div class="container">
            <form action="">
              <h6>Property Image</h6>
              <div class="npi-container" id="npi-container">
                <div class="npi-card input-ctn">
                    <label for="img-upload" class="label-container">
                      <input type="file" class="d-none" id="img-upload" multiple accept="image/*">
                      <img src="asset/img/icons/photo-add-icon.png" alt="">
                      Upload Image
                    </label>
                </div>
                <div class="npi-card">
                  <img src="asset/img/property-img-2.png" class="bg-prop" alt="">
                  <div class="trash-prop"><img src="asset/img/icons/trash-icon-red.png" alt=""></div>
                </div>
              </div>
              <h6 class="mt-4">Property Video</h6>
              <div class="npi-container" id="npi-vid-container">
                <div class="npi-card input-ctn">
                    <label for="vid-upload" class="label-container">
                      <input type="file" class="d-none" id="vid-upload" multiple accept="video/*">
                      <img src="asset/img/icons/video-add-icon.png" alt="">
                      Upload Video
                    </label>
                </div>
                <div class="npi-card video-ctn">
                  <video id="player1" controls playsinline data-poster="asset/img/property-img-2.png">
                    <source src="asset/video/home-video3.mp4"  type="video/mp4"></video>
                  <div class="trash-prop"><img src="asset/img/icons/trash-icon-red.png" alt=""></div>
                </div>
              </div>
              <div class="row mt-4 mb-2">
                <div class="col-sm-7 col-lg-8 mb-4">
                  <div class="form-group">
                    <h6>Property Name</h6>
                    <input type="text" name="" id="" class="form-control">
                  </div>
                </div>
                <div class="col-sm-5 col-lg-4 mb-4">
                  <div class="form-group">
                    <h6>Price</h6>
                    <input type="text" name="" min="0" id="" class="form-control">
                  </div>
                </div>
                <div class="col-12 mb-4">
                  <div class="form-group">
                    <h6>Location (Map embed code)</h6>
                    <input type="text" name="" min="0" id="" class="form-control">
                  </div>
                </div>
                <div class="col-12 mb-4">
                  <div class="form-group">
                    <h6>Property Overview</h6>
                    <textarea name="" class="form-control" id=""></textarea>
                  </div>
                </div>
                <div class="col-sm-6 col-lg-3 mb-4">
                  <div class="form-group">
                    <h6>Transaction</h6>
                    <select name="" id="" class="form-control">
                      <option value="">Select</option>
                      <option value="">For sale</option>
                    </select>
                  </div>
                </div>
                <div class="col-sm-6 col-lg-3 mb-4">
                  <div class="form-group">
                    <h6>Property Type</h6>
                    <select name="" id="" class="form-control">
                      <option value="">Select</option>
                      <option value="">Detachable</option>
                    </select>
                  </div>
                </div>
                <div class="col-sm-6 col-lg-3 mb-4">
                  <div class="form-group">
                    <h6>Reference</h6>
                    <select name="" id="" class="form-control">
                      <option value="">Select</option>
                      <option value="">Automatic</option>
                    </select>
                  </div>
                </div>
                <div class="col-sm-6 col-lg-3 mb-4">
                  <div class="form-group">
                    <h6>Number of Bedrooms</h6>
                    <select name="" id="" class="form-control">
                      <option value="">Select</option>
                      <option value="">3</option>
                    </select>
                  </div>
                </div>
                <div class="col-sm-6 col-lg-3 mb-4">
                  <div class="form-group">
                    <h6>Number of Bathrooms</h6>
                    <select name="" id="" class="form-control">
                      <option value="">Select</option>
                      <option value="">3</option>
                    </select>
                  </div>
                </div>
                <div class="col-sm-6 col-lg-3 mb-4">
                  <div class="form-group">
                    <h6>Building Area</h6>
                    <select name="" id="" class="form-control">
                      <option value="">Select</option>
                      <option value="">3000</option>
                    </select>
                  </div>
                </div>
                <div class="col-sm-6 col-lg-3 mb-4">
                  <div class="form-group">
                    <h6>Plot Area</h6>
                    <select name="" id="" class="form-control">
                      <option value="">Select</option>
                      <option value="">4200</option>
                    </select>
                  </div>
                </div>
                <div class="col-sm-6 col-lg-3 mb-4">
                  <div class="form-group">
                    <h6>Construction</h6>
                    <select name="" id="" class="form-control">
                      <option value="">Select</option>
                      <option value="">New</option>
                    </select>
                  </div>
                </div>
                <div class="col-sm-6 col-lg-3 mb-4">
                  <div class="form-group">
                    <h6>Floor</h6>
                    <select name="" id="" class="form-control">
                      <option value="">Select</option>
                      <option value="">Tiles</option>
                    </select>
                  </div>
                </div>
                <div class="col-sm-6 col-lg-3 mb-4">
                  <div class="form-group">
                    <h6>Roof</h6>
                    <select name="" id="" class="form-control">
                      <option value="">Select</option>
                      <option value="">Decking</option>
                    </select>
                  </div>
                </div>
                <div class="col-sm-6 col-lg-3 mb-4">
                  <div class="form-group">
                    <h6>Ceiling</h6>
                    <select name="" id="" class="form-control">
                      <option value="">Select</option>
                      <option value="">POP</option>
                    </select>
                  </div>
                </div>
                <div class="col-sm-6 col-lg-3 mb-4">
                  <div class="form-group">
                    <h6>Staircase</h6>
                    <select name="" id="" class="form-control">
                      <option value="">Select</option>
                      <option value="">Glass</option>
                    </select>
                  </div>
                </div>
              </div>
              <div class="form-group">
                <h6>Features</h6>
                <div class="create-propef border rounded px-4 pb-4">
                  <div class="row" id="feature-ctn">
                    <div class="col-sm-2 col-md-4 mt-4">
                      <div class="form-group">
                          <div class="form-check checkbox-success check-lg">
                            <input type="checkbox" checked class="form-check-input" id="biogas">
                            <label class="form-check-label" for="biogas">Biogas</label>
                        </div> 
                      </div>
                    </div>
                    <div class="col-sm-2 col-md-4 mt-4">
                      <div class="form-group">
                          <div class="form-check checkbox-success check-lg">
                            <input type="checkbox" checked class="form-check-input" id="recenter">
                            <label class="form-check-label" for="recenter">Recreational Center</label>
                        </div> 
                      </div>
                    </div>
                    <div class="col-sm-2 col-md-4 mt-4">
                      <div class="form-group">
                          <div class="form-check checkbox-success check-lg">
                            <input type="checkbox" checked class="form-check-input" id="goroad">
                            <label class="form-check-label" for="goroad">Good Road</label>
                        </div> 
                      </div>
                    </div>
                    <div class="col-sm-2 col-md-4 mt-4">
                      <div class="form-group">
                          <div class="form-check checkbox-success check-lg">
                            <input type="checkbox" class="form-check-input" id="solar">
                            <label class="form-check-label" for="solar">Solar Energy</label>
                        </div> 
                      </div>
                    </div>
                    <div class="col-sm-2 col-md-4 mt-4">
                      <div class="form-group">
                          <div class="form-check checkbox-success check-lg">
                            <input type="checkbox" class="form-check-input" id="perifence">
                            <label class="form-check-label" for="perifence">Perimeter Fencing</label>
                        </div> 
                      </div>
                    </div>
                    <div class="col-sm-2 col-md-4 mt-4">
                      <div class="form-group">
                          <div class="form-check checkbox-success check-lg">
                            <input type="checkbox" class="form-check-input" id="earena">
                            <label class="form-check-label" for="earena">Event Arena</label>
                        </div> 
                      </div>
                    </div>
                  </div>
                    <button type="button" data-bs-toggle="modal" data-bs-target="#featureModal" class="new-discussion-btn bg-transparent text-dark border rounded mt-4">Add new feature</button>
                </div>
              </div>
              <div class="d-flex align-items-center justify-content-between my-5">
                <a href="properties.html" class="new-discussion-btn danger px-5">Discard</a>
                <button class="new-discussion-btn btn-success px-5">Save</button>
              </div>
            </form>
          </div>
         </section>
        </main>
    </div>

    <div class="modal fade" id="successModal" tabindex="-1" aria-labelledby="successModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-sm modal-dialog-centered">
             <div class="modal-content">
                  <div class="modal-body rounded">
                    <div class="d-flex align-items-center justify-content-center mb-2 mt-3">
                        <img src="asset/img/success-star-checked.png" width="50px" alt="icon">
                    </div>
                       <h3 class="text-center mb-2">Success!</h3>
                      <div class="text-center mb-2">
                        You have successfully registered for a LiveLearn Session.
                      </div>
                        <button type="button" class="new-discussion-btn w-100 mb-2">Go Back</button>
                  </div>
             </div>
        </div>
    </div>

    <div class="modal fade" id="featureModal" tabindex="-1" aria-labelledby="featureModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-sm modal-dialog-centered">
             <div class="modal-content">
                  <div class="modal-body rounded">
                   <form action="">
                    <label for="">Name</label>
                    <input type="text" name="name"  class="form-control">
                     <button data-bs-dismiss="modal" id="add-feature-btn" type="button" class="new-discussion-btn btn-success w-100 mt-4 mb-2">Done</button>
                   </form>
                  </div>
             </div>
        </div>
    </div>



    <!-- JS FILES -->
    <script src="vendor/jquery/jQuery3.6.1.min.js"></script>
    <script src="vendor/popper/popper.js"></script>
    <script src="vendor/bootstrap/bootstrap.bundle.min.js"></script>
    <script src="vendor/datatables/js/jquery.dataTables.min.js"></script>
    <script src="vendor/fontawesome/all.min.js"></script>
    <script src="vendor/jquery-validate/jquery.validate.js"></script>
    <script src="vendor/swiper/swiper-bundle.min.js"></script>
    <script src="vendor/moment/moment.min.js"></script>
    <script src="vendor/bootstrap-daterangepicker/daterangepicker.js"></script>
    <script src="vendor/bootstrap-datepicker/bootstrap-datepicker.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <!-- <script src="asset/js/dashboard.js"></script> -->
    <script src="asset/js/plugins_init.js"></script>
    <script src="asset/js/main.js"></script>
    <script>
      $(document).ready(function(){

        $("#add-feature-btn").on('click', function(){
          var name = $(this).siblings('input').val()
          var splited_name = name.split(" ");
          var id = splited_name.join("_")
          console.log(splited_name)
          console.log(id)
           var html = `
                  <div class="col-sm-2 col-md-4 mt-4">
                      <div class="form-group">
                          <div class="form-check checkbox-success check-lg">
                            <input type="checkbox" class="form-check-input" id="${id}">
                            <label class="form-check-label" for="${id}">${name}</label>
                        </div> 
                      </div>
                    </div>
           `
           $('#feature-ctn').append(html)

        })



        $('body').on('click', '.trash-prop', function(){
          if(confirm("Are you sure to delete this file?")){
            $(this).parent('.npi-card').remove();
          }
        })

        var videoContainers = $('.video-ctn');

          for(let i = 1; i <= videoContainers.length; i++){
            playVideo(`#player${i}`);
          }


          function playVideo(id){
            const player = new Plyr(id, {
              controls: ['play-large',],
              debug: false
          });
          }
      })
    </script>
    <script>
      document.addEventListener('DOMContentLoaded', function(){
          document.getElementById('img-upload').addEventListener('change', function(){
              var input = this;
              if (input.files && input.files[0]){
                  for (let i = 0; i < input.files.length; i++){
                    console.log(input.files[i].name)

                    var reader = new FileReader();
                    reader.onload = function(e) {
                      let html = `
                        <div class="npi-card">
                          <img src="${e.target.result}" class="bg-prop" alt="">
                          <div class="trash-prop"><img src="asset/img/icons/trash-icon-red.png" alt=""></div>
                        </div>
                      `;
                        document.getElementById('npi-container').innerHTML += html;
                    }
   
                    reader.readAsDataURL(input.files[i]);

                  }
              }
          })
      })
    </script>
    <script>
      var videoContainers = $('.video-ctn');

      document.getElementById('vid-upload').addEventListener('change', function(event) {
      const file = event.target.files;
      console.log(file);

      for(let i = 0; i < file.length; i++){


        var playerId = videoContainers.length + 1;
        
        if (file && file[i].type.startsWith('video/')) {
  
              const reader = new FileReader();
              
              reader.onload = function(event) {
                  // const videoElement = document.createElement('video');
                  // videoElement.src = event.target.result;
                  // videoElement.controls = true;

                

                  var htm = `
                    <div class="npi-card video-ctn">
                      <video id="player${playerId}" controls playsinline data-poster="">
                        <source src="${event.target.result}"  type="video/mp4"></video>
                      <div class="trash-prop"><img src="asset/img/icons/trash-icon-red.png" alt=""></div>
                    </div>
                  `;

                    const parser = new DOMParser();
                    const doc = parser.parseFromString(htm,'text/html');
                    const videoElement = doc.body.firstChild;
                  
                  const ctn = document.getElementById('npi-vid-container');
                  // ctn.innerHTML += html;
                  ctn.appendChild(videoElement);
                  playVideo(`#player${playerId}`);
              };
              
              reader.readAsDataURL(file[i]);
        } 
        
      }
    });
    

    function playVideo(id){
        const player = new Plyr(id, {
          controls: ['play-large',],
          debug: false
      });
    }
    </script>
</body>
</html>